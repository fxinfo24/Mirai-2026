{
  // ─── File Watcher Exclusions ─────────────────────────────────────────────────
  // Exclude large generated/dependency directories from file watching.
  // This is the #1 cause of VS Code sluggishness on this project.
  "files.watcherExclude": {
    "**/.git/**": true,
    "**/node_modules/**": true,
    "**/dashboard/.next/**": true,
    "**/dashboard/node_modules/**": true,
    "**/build/**": true,
    "**/dist/**": true,
    "**/__pycache__/**": true,
    "**/.pytest_cache/**": true,
    "**/ai/venv/**": true,
    "**/ai/**/venv/**": true,
    "**/.mypy_cache/**": true,
    "**/observability/**": true,
    "**/loader/bins/**": true
  },

  // ─── Search Exclusions ────────────────────────────────────────────────────────
  // Keep search fast by excluding large irrelevant directories.
  "search.exclude": {
    "**/node_modules": true,
    "**/dashboard/.next": true,
    "**/build": true,
    "**/dist": true,
    "**/__pycache__": true,
    "**/ai/venv": true,
    "**/loader/bins": true,
    "**/*.pyc": true,
    "**/package-lock.json": true
  },

  // ─── Explorer Exclusions ─────────────────────────────────────────────────────
  // Hide clutter from the file explorer sidebar.
  "files.exclude": {
    "**/__pycache__": true,
    "**/.pytest_cache": true,
    "**/.mypy_cache": true,
    "**/*.pyc": true,
    "**/dashboard/.next": true,
    "**/loader/bins": true
  },

  // ─── TypeScript / JavaScript ──────────────────────────────────────────────────
  // Use the workspace's own TypeScript version (faster, avoids version mismatches).
  "typescript.tsdk": "dashboard/node_modules/typescript/lib",
  // Disable TS suggestions for node_modules to reduce memory usage.
  "typescript.disableAutomaticTypeAcquisition": false,
  // Only validate open files (not the whole project) — huge speed win.
  "typescript.validate.enable": true,
  "javascript.validate.enable": true,
  // Don't show TS errors in JS files.
  "javascript.implicitProjectConfig.checkJs": false,

  // ─── Editor Performance ────────────────────────────────────────────────────────
  // Reduce editor overhead.
  "editor.minimap.enabled": false,
  "editor.renderWhitespace": "none",
  "editor.renderControlCharacters": false,
  "editor.occurrencesHighlight": "off",
  "editor.selectionHighlight": false,
  "editor.codeLens": false,
  "editor.hover.delay": 500,
  "editor.quickSuggestionsDelay": 100,
  "editor.suggest.snippetsPreventQuickSuggestions": false,

  // ─── Extension: ESLint ────────────────────────────────────────────────────────
  // Only lint files in the dashboard (not the whole workspace).
  "eslint.workingDirectories": [{ "directory": "dashboard", "changeProcessCWD": true }],
  "eslint.validate": ["javascript", "javascriptreact", "typescript", "typescriptreact"],

  // ─── Extension: Python ────────────────────────────────────────────────────────
  "python.defaultInterpreterPath": "${workspaceFolder}/ai/venv/bin/python3",
  "python.analysis.exclude": ["**/node_modules/**", "**/build/**", "**/loader/bins/**"],
  "python.analysis.indexing": false,

  // ─── Extension: C/C++ ─────────────────────────────────────────────────────────
  "[c]": {
    "editor.formatOnSave": true,
    "editor.defaultFormatter": "ms-vscode.cpptools"
  },
  "C_Cpp.intelliSenseCachePath": "${workspaceFolder}/.vscode/.intellisense-cache",
  "C_Cpp.intelliSenseCacheSize": 1024,
  "C_Cpp.loggingLevel": "Warning",

  // ─── Git ──────────────────────────────────────────────────────────────────────
  // Don't auto-fetch (reduces background network/CPU activity).
  "git.autofetch": false,
  "git.decorations.enabled": true,

  // ─── Telemetry & Updates ─────────────────────────────────────────────────────
  "telemetry.telemetryLevel": "off",
  "extensions.autoCheckUpdates": false,
  "update.mode": "manual",

  // ─── File Associations ────────────────────────────────────────────────────────
  "files.associations": {
    "*.h": "c",
    "*.c": "c",
    "CMakeLists.txt": "cmake",
    "*.env*": "dotenv",
    "Dockerfile.*": "dockerfile"
  },

  // ─── Terminal ─────────────────────────────────────────────────────────────────
  "terminal.integrated.inheritEnv": true,

  // ─── C/C++ IntelliSense Cache ─────────────────────────────────────────────────
  // Store IntelliSense cache inside .vscode (excluded from watcher above).
  "C_Cpp.intelliSenseCachePath": "${workspaceFolder}/.vscode/.intellisense-cache",
  "C_Cpp.intelliSenseCacheSize": 2048,

  // ─── TypeScript Server ────────────────────────────────────────────────────────
  // Limit TS server memory to 4GB (default is uncapped — can cause swap thrashing).
  "typescript.tsserver.maxTsServerMemory": 4096,
  // Don't watch node_modules for TS changes — massive watcher reduction.
  "typescript.tsserver.watchOptions": {
    "watchFile": "useFsEventsOnParentDirectory",
    "watchDirectory": "useFsEvents",
    "fallbackPolling": "dynamicPriority"
  },

  // ─── Extra file watcher exclusions ────────────────────────────────────────────
  "files.watcherExclude": {
    "**/.git/**": true,
    "**/node_modules/**": true,
    "**/dashboard/.next/**": true,
    "**/dashboard/node_modules/**": true,
    "**/build/**": true,
    "**/dist/**": true,
    "**/__pycache__/**": true,
    "**/.pytest_cache/**": true,
    "**/ai/venv/**": true,
    "**/.mypy_cache/**": true,
    "**/observability/**": true,
    "**/loader/bins/**": true,
    "**/.vscode/.intellisense-cache/**": true,
    "**/dashboard/coverage/**": true
  },

  // ─── Reduce extension overhead ────────────────────────────────────────────────
  // Only run ESLint on save, not on type.
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": "explicit"
  },
  "eslint.run": "onSave",

  // ─── Breadcrumbs / UI chrome ─────────────────────────────────────────────────
  "breadcrumbs.enabled": false,
  "editor.lightbulb.enabled": "off",
  "editor.parameterHints.enabled": false,

  // ─── Large file handling ──────────────────────────────────────────────────────
  "editor.largeFileOptimizations": true,
  "files.maxMemoryForLargeFilesMB": 512
}
